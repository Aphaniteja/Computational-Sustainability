import requests
from sys import argv
from collections import namedtuple
import time
import shutil
from PIL import Image

#headers = {'Accept': 'application/json'}
#Directly get movies of sci-fi and above year 2000.

zipcodes = [30327, 30326, 30338, 30328, 30305, 30342, 30345, 30319, 30306, 30307, 30339, 30324, 30350, 30346, 30341, 30360, 30309, 30329, 30340, 30349, 30331, 30344, 30308, 30316, 30336, 30337, 30318, 30317, 30354, 30311, 30310, 30303, 30315, 30312, 30314, 30313,30322]
latitudes = [33.810178, 33.841563, 33.916119, 33.901543, 33.80984, 33.848513, 33.82134, 33.832869, 33.764503, 33.752629, 33.824504, 33.791208, 33.95602, 33.914999, 33.859596, 33.902434, 33.777831, 33.796205, 33.866657, 33.561296, 33.646176, 33.632015, 33.75833, 33.678267, 33.691354, 33.616364, 33.754464, 33.737558, 33.631019, 33.68457, 33.696383, 33.741168, 33.672925, 33.717052, 33.741628, 33.743481, 33.788232]
longitudes = [-84.387166, -84.352309, -84.281746, -84.347625, -84.36009, -84.347924, -84.246496, -84.309436, -84.32805, -84.306535, -84.413581, -84.329687, -84.262654, -84.327678, -84.233212, -84.240569, -84.36857, -84.302983, -84.218315, -84.400638, -84.486554, -84.415049, -84.363521, -84.289872, -84.508626, -84.397683, -84.390567, -84.281287, -84.349414, -84.434022, -84.394397, -84.376596, -84.346205, -84.358197, -84.397511, -84.388956, -84.315911]
endlat = [33.915869, 33.857497, 33.970911, 33.967582, 33.863284, 33.914999, 33.871651, 33.920409, 33.810633, 33.79756, 33.915881, 33.848619, 34.010316, 33.931775, 33.920249, 33.965159, 33.818801, 33.859474, 33.93048, 33.679109, 33.806505, 33.705707, 33.782108, 33.754662, 33.79334, 33.669469, 33.832056, 33.765092, 33.68826, 33.764465, 33.754598, 33.76455, 33.741619, 33.771133, 33.770479, 33.781540, 33.803761]
endlong = [-84.460499, -84.352309, -84.352436, -84.447543, -84.416847, -84.410103, -84.315495, -84.359288, -84.370759, -84.36698, -84.413581, -84.386487, -84.384696, -84.348025, -84.324008, -84.29337, -84.407849, -84.348483, -84.289114, -84.645794, -84.671593, -84.51562, -84.391186, -84.368165, -84.632649, -84.490732, -84.498731, -84.351657, -84.445768, -84.502793, -84.466965, -84.407242, -84.418328, -84.408184, -84.467929, -84.408367, -84.336155]
c = 0
for zipc in zipcodes:			 
	for i in range(0,100):
		lat = latitudes[c]+(float(i)/100)
		if lat < endlat[c]:
			for j in range(0,100):
				longi = longitudes[c]-(float(j)/100)
				latlong = str(lat) +","+ str(longi)
				print latlong
				if longi > endlong[c]:
					params = {'key': 'AIzaSyBEo1AywD3DW6SvmxYCzmDKMnOOlqb0N4A', 'center':latlong, 'zoom':18, 'size':'640x640', 'format':'png','maptype':'satellite'}
					time.sleep(0.5)
					img = str(zipc)+"/"+str(i)+str(j)+".png"
					response = requests.get('https://maps.googleapis.com/maps/api/staticmap?',params=params, timeout=7, stream=True)
					with open(img, 'wb') as out_file:
						shutil.copyfileobj(response.raw, out_file)
					del response
	c = c+1
